import React from "react";
import { ErrorBoundary, Lang } from "fogito-core-ui";

export const CardList = ({ state, onAction }) => {
  const ROWS = [
    {
      title: Lang.get("Total"),
      key: "total",
      count:
        state.listStatus &&
        (state.listStatus?.accepted || 0) +
          (state.listStatus?.waiting || 0) +
          (state.listStatus?.canceled || 0),
      icon: (
        <svg
          width="27"
          height="32"
          viewBox="0 0 27 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M1.71689 0.0704206C1.12584 0.257951 0.717651 0.5492 0.40864 1.00382C-0.0429574 1.66825 -0.12802 2.54888 0.192282 3.24405C0.278035 3.43014 2.04942 6.3651 4.12869 9.76613C6.45091 13.5646 7.89798 15.9911 7.88017 16.0568C7.86423 16.1156 6.16304 18.9242 4.09971 22.298C2.03631 25.6718 0.277972 28.5844 0.192282 28.7705C-0.12802 29.4658 -0.0429574 30.3464 0.40864 31.0108C0.667529 31.3917 0.924035 31.5999 1.41986 31.8317L1.77962 32H13.1025H24.4254L24.8331 31.8063C25.0574 31.6997 25.3652 31.4885 25.5172 31.3368C25.6692 31.1852 25.8809 30.878 25.9877 30.6542C26.1601 30.2928 26.1818 30.1844 26.1818 29.684C26.1818 29.1959 26.1578 29.0688 26.0018 28.7319C25.7657 28.2217 25.2463 27.723 24.7388 27.5192L24.3626 27.3681L15.4484 27.3368L6.53416 27.3055L9.68675 22.1495C12.9386 16.8312 13.0398 16.6459 13.0398 16.0073C13.0398 15.3687 12.9386 15.1834 9.68675 9.86509L6.53416 4.70912L15.4484 4.67782L24.3626 4.64653L24.7388 4.49542C25.2463 4.29156 25.7657 3.79287 26.0018 3.28273C26.1578 2.94579 26.1818 2.81872 26.1818 2.33056C26.1818 1.83018 26.1601 1.72177 25.9877 1.36035C25.741 0.843266 25.3513 0.454433 24.8331 0.208315L24.4254 0.0145869L13.1966 0.00269413C4.25697 -0.00675753 1.91668 0.0070131 1.71689 0.0704206Z"
            fill="white"
          />
        </svg>
      ),
      color: "#4B38B3",
    },
    {
      title: Lang.get("Accepted"),
      key: "accepted",
      count: (state.listStatus && state.listStatus?.accepted) || 0,
      icon: (
        <svg
          width="33"
          height="33"
          viewBox="0 0 33 33"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M14.769 0.0721719C13.0743 0.231523 10.9047 0.850249 9.30494 1.63039C7.75879 2.38439 5.94344 3.70075 4.82658 4.87784C0.649914 9.27942 -0.726945 15.3756 1.16932 21.0705C2.76336 25.8576 6.48572 29.5813 11.2672 31.172C18.0841 33.4398 25.4623 30.9691 29.5311 25.0559C33.2676 19.6256 33.2676 12.3866 29.5311 6.95627C26.2151 2.13706 20.6093 -0.477118 14.769 0.0721719ZM23.4861 10.6445C24.0232 10.914 24.3417 11.4644 24.3393 12.1186C24.3363 12.8849 24.647 12.5461 18.9379 18.0084C16.4427 20.3956 15.4206 21.3317 15.2026 21.4295C14.81 21.6055 14.2627 21.6059 13.8685 21.4305C13.6684 21.3414 12.8684 20.655 11.4673 19.3703C8.74305 16.8724 8.51246 16.6405 8.41254 16.2985C8.30562 15.9326 8.31088 15.386 8.42401 15.1153C8.66821 14.5308 9.34563 14.0731 9.96649 14.0731C10.5638 14.0731 10.8317 14.2606 12.7205 16.0008C13.6849 16.8894 14.4983 17.6067 14.5281 17.5949C14.5578 17.5832 16.1787 16.0428 18.1301 14.1718C20.0814 12.3008 21.7845 10.7131 21.9147 10.6436C22.426 10.3708 22.9414 10.3711 23.4861 10.6445Z"
            fill="white"
          />
        </svg>
      ),
      color: "#11CA6D",
    },
    {
      title: Lang.get("Waiting"),
      key: "waiting",
      count: (state.listStatus && state.listStatus?.waiting) || 0,
      icon: (
        <svg
          width="33"
          height="32"
          viewBox="0 0 33 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M15.4514 0.0301123C13.0815 0.257225 11.3189 0.758787 9.32335 1.77385C6.95943 2.9762 4.83819 4.87752 3.29148 7.18023C2.63659 8.15521 1.83632 9.80116 1.45207 10.9634C1.14191 11.9015 0.89554 12.969 0.744965 14.0274C0.64035 14.7628 0.64035 17.2314 0.744965 17.9668C1.00697 19.8087 1.49377 21.4221 2.25434 22.9693C3.11483 24.7198 3.95769 25.8958 5.34919 27.2874C6.7255 28.6637 7.91984 29.5231 9.60474 30.3496C10.7804 30.9264 11.5395 31.2071 12.7313 31.506C15.8587 32.2905 18.9953 32.14 22.0509 31.0591C22.9771 30.7315 24.5939 29.9212 25.4251 29.3681C27.2938 28.1246 29.0094 26.366 30.2336 24.4388C30.6839 23.7298 31.4078 22.2338 31.703 21.4018C33.172 17.2624 32.9163 12.8197 30.9857 8.93779C30.2066 7.3712 29.3392 6.1434 28.1214 4.88321C26.7709 3.48564 25.4462 2.52141 23.6742 1.64585C21.822 0.730711 20.0962 0.242218 18.0464 0.0528111C17.4094 -0.00603069 15.9611 -0.0187245 15.4514 0.0301123ZM17.2613 6.8208C17.4078 6.89828 17.6162 7.08393 17.7245 7.23338L17.9214 7.50514L17.9383 11.798L17.9552 16.0908L21.2265 19.3737C24.0307 22.1879 24.5082 22.6934 24.5706 22.9141C24.6823 23.3086 24.6588 23.5706 24.4795 23.9305C24.1991 24.493 23.6108 24.7662 22.9893 24.6222C22.6833 24.5514 22.5661 24.4419 19.1205 21.0079C17.13 19.0241 15.5137 17.3635 15.4456 17.2324C15.3278 17.0054 15.3246 16.8487 15.3408 12.2508L15.3576 7.50358L15.5452 7.23726C15.924 6.69949 16.6834 6.51521 17.2613 6.8208Z"
            fill="white"
          />
        </svg>
      ),
      color: "#F5D00A",
    },
    {
      title: Lang.get("Canceled"),
      key: "canceled",
      count: (state.listStatus && state.listStatus?.canceled) || 0,
      icon: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M14.8299 0.0379773C14.1704 0.0819097 12.7934 0.317718 12.0131 0.520357C9.87206 1.07646 7.70176 2.17201 5.91009 3.60119C5.25303 4.12538 4.06704 5.30435 3.53285 5.96459C1.68304 8.25057 0.491224 11.0287 0.0799733 14.0129C-0.0267516 14.7872 -0.0266264 17.1198 0.0801611 17.893C0.502178 20.9492 1.69324 23.7107 3.6161 26.0912C4.10328 26.6943 5.30686 27.8976 5.91009 28.3847C8.29109 30.3071 11.0532 31.4979 14.1101 31.9199C14.8834 32.0266 17.2165 32.0267 17.991 31.92C20.9758 31.5089 23.7546 30.3173 26.041 28.4679C26.7014 27.9338 27.8807 26.7481 28.4049 26.0912C29.4569 24.773 30.4843 22.9591 31.0457 21.4288C31.5915 19.9407 31.9255 18.2013 31.9887 16.5162C32.1549 12.0885 30.4804 7.84473 27.3204 4.68548C24.012 1.37773 19.5644 -0.277184 14.8299 0.0379773ZM10.1222 7.67996C10.3376 7.7752 10.868 8.25051 12.1388 9.48732C13.0872 10.4103 14.3567 11.6418 14.9599 12.2241L16.0565 13.2827L18.8234 10.5274C21.9091 7.45454 21.8077 7.53358 22.6543 7.53796C23.1913 7.54077 23.5646 7.69485 23.9375 8.06765C24.3104 8.44045 24.4645 8.81369 24.4673 9.35057C24.4717 10.1971 24.5511 10.0954 21.4743 13.1837L18.7153 15.9529L21.4743 18.7222C24.5511 21.8105 24.4717 21.7088 24.4673 22.5553C24.4645 23.0922 24.3104 23.4654 23.9375 23.8382C23.5646 24.211 23.1913 24.3651 22.6543 24.3679C21.8077 24.3723 21.9091 24.4514 18.8234 21.3785L16.0565 18.6232L14.9599 19.6818C14.3567 20.2641 13.0872 21.4956 12.1388 22.4186C10.1909 24.3142 10.1147 24.3676 9.35283 24.3676C8.78322 24.3676 8.42254 24.2224 8.03833 23.8382C7.66545 23.4654 7.51134 23.0922 7.50853 22.5553C7.50415 21.7088 7.42471 21.8106 10.5019 18.7219L13.2612 15.9523L10.5278 13.2147C8.3689 11.0524 7.76686 10.4146 7.66307 10.1797C6.95975 8.58845 8.54129 6.98079 10.1222 7.67996Z"
            fill="white"
          />
        </svg>
      ),
      color: "#F53A5F",
    },
  ];

  return (
    <ErrorBoundary>
      <div className={"row px-0 position-relative"}>
        {state.loadingList && <Loading />}
        {ROWS.map((row, i) => (
          <div
            className={`card card-hover col-md py-3 px-4 d-flex flex-row justify-content-between align-items-center ${
              state.filters.activeCard === row.key
                ? "border border-primary"
                : "border border-transparent"
            }`}
            onClick={() => {
              if (state.filters.activeCard === row.key) {
                return false;
              }
              onAction(row.key);
            }}
            key={i}
            style={{ minHeight: 100, margin: "0 .6rem 1rem .6rem" }}
          >
            <div
              style={{
                width: 60,
                height: 60,
                backgroundColor: row.color,
                borderRadius: "50%",
              }}
              className="d-flex justify-content-center align-items-center"
            >
              {row.icon}
            </div>
            <div className="d-flex flex-column text-right">
              <div className="fs-24 mb-0">{row.count}</div>
              <span className="text-muted fs-15">{row.title}</span>
            </div>
          </div>
        ))}
      </div>
    </ErrorBoundary>
  );
};
